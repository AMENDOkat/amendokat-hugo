{{ define "main" }}
   <style>
    .page-info, .page-controls{
        text-align: center;
    }

    .page-info img{
        margin-top: 0.2rem;
    }

    .page-info ul{
        list-style-type: none;
        background-color: #373737;
        border: 1px solid var(--grey);
    }

    .page-info li{
        margin: 0;
        padding: 0.5rem 0 0.5rem 0;
    }

    .page-info li:not(:last-of-type){
        border-bottom: 1px dotted var(--grey);
    }

    .page-info b{
        display: block;
    }

    .page-info li a:not(:last-of-type){
        border-right: var(--border-1);
    }

    .page-info li a{
        padding: 0 0.5rem 0 0.5rem;
    }
</style>

<div class="main-container">
    <h1>{{ .Title }}</h1>
    <hr> 
    <span class="page-stats">
        {{ $date := .Date.Format "Jan 02 2006" }}
        {{ $lastmod := .Lastmod.Format "Jan 02 2006" }}

        Published {{ $date }}
                <!-- If "date" (Published) is different from "lastmod" (Last Modified) display last modified info, if not, display nothing -->
        {{ if ne $date $lastmod }}
            | Last Modified {{ $lastmod }}
        {{ end }}
    </span>
    <hr>
<div class="page-info">
    {{ with .Params }}
        {{ $alt := .alt }}
            {{ if .cover }}
                {{ with .cover }}
                    {{ with resources.GetRemote . }}
                        <img src="{{ . }}" alt="{{ $alt }}" width="{{ .Width }}" height="{{ .Height }}">
                    {{ end }}
                {{ end }}
            {{ else }}
                <img src='{{ relURL "images/chicken.webp" }}' alt="">
            {{ end }}

        <!-- Displays frontmatter "caption", if unavailable display nothing -->
        {{ with .caption }}
            <p>{{ . }}</p>
        {{ end }}

        <ul>
            <li>
                <b>Title</b> 
                {{ .Title }}
            </li>
            <li>
                <b>Created</b> 
                {{ .created | time.Format ":date_short" }}
            </li>
            <li>
                <b>Where to find</b>
                {{ with .bluesky }}
                    <a href="{{ . }}">bluesky</a>
                {{ end }}

                {{ with .tumblr }}
                    <a href="{{ . }}">tumblr</a>
                {{ end }}
                
                {{ with .derpibooru }}
                    <a href="{{ . }}">derpibooru</a>
                {{ end }}
            </li>
            <li>
                <b>Tags</b>
                {{ range .art_tags }}
                    <a class="tags" href='/art_tags/{{ . | urlize }}'>{{ . }}</a>
                {{ end }}
            </li>
        </ul>
    {{ end }}
</div>

{{ .Content }}

<div class="page-controls">
    {{ $pages := .CurrentSection.Pages }}

    {{ with $pages.Prev . }}
        <div class="page-controls-content">
            <span>{{ .Title }}</span>
            <a href="{{ .RelPermalink }}">&#11164; Previous</a>
        </div>
    {{ end }}
    {{ with $pages.Next . }}
        <div class="page-controls-content">
            <span>{{ .Title }}</span>
            <a href="{{ .RelPermalink }}">Next &#11166;</a>
        </div>
    {{ end }}
</div>

</div>

{{ end }}

